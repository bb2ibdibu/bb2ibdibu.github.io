<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Apply Google domain and combine with Github</title>
      <link href="/2023/05/15/apply-google-domain-and-combine-with-github/"/>
      <url>/2023/05/15/apply-google-domain-and-combine-with-github/</url>
      
        <content type="html"><![CDATA[<h1 id="Apply-Google-domain-and-combine-with-Github"><a href="#Apply-Google-domain-and-combine-with-Github" class="headerlink" title="Apply Google domain and combine with Github"></a>Apply Google domain and combine with Github</h1><ol><li>Get your domain from google domains or Aliyun.</li><li>Paying </li><li>Click DNS and do following steps same.</li></ol><p><img src="https://hexo-s3.s3.ap-northeast-1.amazonaws.com/ImagesForConfigureDomain/1.png"></p><ol start="4"><li>Fill the black block with your <code>&lt;xxxxxxx.io&gt;</code></li></ol><p><img src="https://hexo-s3.s3.ap-northeast-1.amazonaws.com/ImagesForConfigureDomain/2.png"></p><ol start="5"><li>Copy domain to Custom domain field on the Github pages</li></ol><p><img src="https://hexo-s3.s3.ap-northeast-1.amazonaws.com/ImagesForConfigureDomain/3.png"></p><ol start="6"><li>Copy and paste the 2 code lines into following blue block and red block sequentially.</li></ol><p><img src="https://hexo-s3.s3.ap-northeast-1.amazonaws.com/ImagesForConfigureDomain/4.png"></p><ol start="7"><li>Done.</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Google domain </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EC Env</title>
      <link href="/2023/05/03/ec-env/"/>
      <url>/2023/05/03/ec-env/</url>
      
        <content type="html"><![CDATA[<h1 id="EC-Env"><a href="#EC-Env" class="headerlink" title="EC Env"></a>EC Env</h1><ol><li>install atom, Git.</li><li>Install virtual env</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python3 <span class="token parameter variable">-m</span> pip <span class="token function">install</span> <span class="token parameter variable">--user</span> virtualenv<span class="token comment"># create a new</span>python3 <span class="token parameter variable">-m</span> venv <span class="token punctuation">{</span><span class="token punctuation">{</span>ecom<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment"># enter into virtual env</span><span class="token builtin class-name">source</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>ecom<span class="token punctuation">}</span><span class="token punctuation">}</span>/bin/activate<span class="token comment"># check all packages</span>pip freeze<span class="token comment"># deactiavte virtual env</span>deactivate<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>Install Django</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> <span class="token assign-left variable">django</span><span class="token operator">==</span><span class="token number">3.1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol><li>Start project</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">djangp-admin startproject <span class="token punctuation">{</span><span class="token punctuation">{</span>ec<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token builtin class-name">cd</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>ec<span class="token punctuation">}</span><span class="token punctuation">}</span>python manage.py runserver<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> EC </tag>
            
            <tag> Django </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Basic SQL</title>
      <link href="/2023/05/01/basic-sql/"/>
      <url>/2023/05/01/basic-sql/</url>
      
        <content type="html"><![CDATA[<h1 id="Basic-SQL"><a href="#Basic-SQL" class="headerlink" title="Basic SQL"></a>Basic SQL</h1><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">sql</span> oneline <span class="token operator">-</span><span class="token operator">&gt;</span> https:<span class="token comment">//sqliteonline.com/</span><span class="token comment"># Create Table</span><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> months<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> days <span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment"># Insert Rows</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> months <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'January'</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> months <span class="token punctuation">(</span>id<span class="token punctuation">,</span>name<span class="token punctuation">,</span>days<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'February'</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment"># Select</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">"characters"</span><span class="token keyword">SELECT</span> name<span class="token punctuation">,</span> weapon <span class="token keyword">FROM</span> <span class="token string">"characters"</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> name <span class="token keyword">DESC</span><span class="token comment"># Where</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token string">"characters"</span> <span class="token keyword">WHERE</span> weapon <span class="token operator">=</span> <span class="token string">"pistol"</span><span class="token punctuation">;</span><span class="token comment"># AND / OR</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> albums <span class="token keyword">WHERE</span> genre <span class="token operator">=</span> <span class="token string">'rock'</span> <span class="token operator">AND</span> sales_in_millions <span class="token operator">&lt;=</span> <span class="token number">50</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> released<span class="token comment"># In/Between/Like</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> albums <span class="token keyword">WHERE</span> genre <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'pop'</span><span class="token punctuation">,</span><span class="token string">'soul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> albums <span class="token keyword">WHERE</span> released <span class="token operator">BETWEEN</span> <span class="token number">1975</span> <span class="token operator">AND</span> <span class="token number">1985</span><span class="token punctuation">;</span><span class="token comment"># % - Represents zero, one, or multiple characters</span><span class="token comment"># _ - Represents a single character (MS Access uses a question mark (?) instead)</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Customers <span class="token keyword">WHERE</span> CustomerName <span class="token operator">LIKE</span> <span class="token string">'a%'</span><span class="token punctuation">;</span><span class="token comment"># Functions</span><span class="token comment"># COUNT() - returns the number of rows</span><span class="token comment"># SUM() - returns the total sum of a numeric column</span><span class="token comment"># AVG() - returns the average of a set of values</span><span class="token comment"># MIN() / MAX() - gets the minimum/maximum value from a column</span><span class="token keyword">SELECT</span> <span class="token function">MAX</span><span class="token punctuation">(</span>released<span class="token punctuation">)</span> <span class="token keyword">FROM</span> albums<span class="token punctuation">;</span><span class="token comment"># Nested Select</span><span class="token keyword">SELECT</span> artist<span class="token punctuation">,</span>album<span class="token punctuation">,</span>released <span class="token keyword">FROM</span> albums <span class="token keyword">WHERE</span> released <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token function">MIN</span><span class="token punctuation">(</span>released<span class="token punctuation">)</span> <span class="token keyword">FROM</span> albums<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment"># Joining Tables</span><span class="token keyword">SELECT</span> video_games<span class="token punctuation">.</span>name<span class="token punctuation">,</span> video_games<span class="token punctuation">.</span>genre<span class="token punctuation">,</span> game_developers<span class="token punctuation">.</span>name<span class="token punctuation">,</span> game_developers<span class="token punctuation">.</span>country <span class="token keyword">FROM</span> video_games <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> game_developers <span class="token keyword">ON</span> video_games<span class="token punctuation">.</span>developer_id <span class="token operator">=</span> game_developers<span class="token punctuation">.</span>id<span class="token punctuation">;</span><span class="token comment"># Aliases</span><span class="token keyword">SELECT</span> games<span class="token punctuation">.</span>name<span class="token punctuation">,</span> games<span class="token punctuation">.</span>genre<span class="token punctuation">,</span> devs<span class="token punctuation">.</span>name <span class="token keyword">AS</span> developer<span class="token punctuation">,</span> devs<span class="token punctuation">.</span>country <span class="token keyword">FROM</span> video_games <span class="token keyword">AS</span> games <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> game_developers <span class="token keyword">AS</span> devs <span class="token keyword">ON</span> games<span class="token punctuation">.</span>developer_id <span class="token operator">=</span> devs<span class="token punctuation">.</span>id<span class="token punctuation">;</span><span class="token comment"># Update</span><span class="token keyword">UPDATE</span> tv_series <span class="token keyword">SET</span> genre <span class="token operator">=</span> <span class="token string">'drama'</span> <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token comment"># Delete Rows</span><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> tv_series <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">4</span><span class="token comment"># Deleting Tables</span><span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> table_name<span class="token punctuation">;</span>  <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">delete</span> <span class="token keyword">all</span> the <span class="token keyword">rows</span> <span class="token keyword">of</span> the <span class="token keyword">table</span><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> table_name<span class="token punctuation">;</span>  <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token keyword">delete</span> the <span class="token keyword">table</span><span class="token comment"># OVER()  PARTITION BY  GROUP BY</span><span class="token keyword">SELECT</span> car_make<span class="token punctuation">,</span> car_model<span class="token punctuation">,</span> car_price<span class="token punctuation">,</span>    <span class="token function">AVG</span><span class="token punctuation">(</span>car_price<span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">"overall average price"</span><span class="token punctuation">,</span>    <span class="token function">AVG</span><span class="token punctuation">(</span>car_price<span class="token punctuation">)</span> <span class="token keyword">OVER</span> <span class="token punctuation">(</span><span class="token keyword">PARTITION</span> <span class="token keyword">BY</span> car_type<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token string">"car type average price"</span><span class="token keyword">FROM</span> car_list_prices<span class="token comment"># PARTITION BY -&gt; show all rows</span><span class="token comment"># GROUP BY -&gt; only one row</span><span class="token keyword">SELECT</span> car_make<span class="token punctuation">,</span>       <span class="token function">AVG</span><span class="token punctuation">(</span>car_price<span class="token punctuation">)</span> <span class="token keyword">AS</span> average_price<span class="token punctuation">,</span>       <span class="token function">MAX</span><span class="token punctuation">(</span>car_price<span class="token punctuation">)</span> <span class="token keyword">AS</span> top_price<span class="token keyword">FROM</span>   car_list_prices<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> car_make<span class="token comment"># UNION UNION ALL</span><span class="token comment"># UNION：重複を含めない（重複があったら除外）</span><span class="token comment"># UNION ALL：重複を含む（すべて抽出）</span><span class="token keyword">SELECT</span>  userId  <span class="token keyword">FROM</span>  football<span class="token keyword">UNION</span><span class="token keyword">SELECT</span>  userId  <span class="token keyword">FROM</span>  baseball<span class="token punctuation">;</span><span class="token keyword">sql</span> practice <span class="token operator">-</span><span class="token operator">&gt;</span> https:<span class="token comment">//sqlzoo.net/wiki/SQL_Tutorial</span><span class="token operator">-</span><span class="token operator">&gt;</span>https:<span class="token comment">//leetcode.com/study-plan/sql/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> SQL </tag>
            
            <tag> Leetcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AWS S3</title>
      <link href="/2023/04/27/s3imagedemo/"/>
      <url>/2023/04/27/s3imagedemo/</url>
      
        <content type="html"><![CDATA[<h1 id="S3ImageDemo"><a href="#S3ImageDemo" class="headerlink" title="S3ImageDemo"></a>S3ImageDemo</h1><ol><li>login AWS console and search S3.</li><li>Create a bucket.</li><li>uncheck the “Block all public access” and check the Warning.</li><li>must uncheck the check box, and then can be able to access from public.</li><li>upload the image or something else you want. (Check the ACL right while uploading, otherwise can not be able to access from public)<br><img src="https://hexo-s3.s3.ap-northeast-1.amazonaws.com/ImagesForS3/ACL_configure.png"></li><li>click the “copy URL” button to article image url embedding, done.</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> AWS </tag>
            
            <tag> S3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Fine tuning with YouTube URL</title>
      <link href="/2023/04/25/get-youtube-url-and-finetuning/"/>
      <url>/2023/04/25/get-youtube-url-and-finetuning/</url>
      
        <content type="html"><![CDATA[<h1 id="Get-Youtube-URL-and-Finetuning-for-URL"><a href="#Get-Youtube-URL-and-Finetuning-for-URL" class="headerlink" title="Get Youtube URL and Finetuning for URL"></a>Get Youtube URL and Finetuning for URL</h1><p>Methods 1:</p><ol><li><strong>Using playlist</strong></li></ol><p>pip pytube </p><pre class="line-numbers language-python" data-language="python"><code class="language-python">pip install pytube<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>update pytube to new</p><p>get the urls (and add to {plurls.txt}) from playlist url(youtube channel)</p><p>must be playlist url</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pytube <span class="token keyword">import</span> Playlist<span class="token keyword">import</span> os<span class="token comment"># create a function to get urls form list of playlist</span><span class="token keyword">def</span> <span class="token function">get_playlist</span><span class="token punctuation">(</span>playlists<span class="token punctuation">)</span><span class="token punctuation">:</span>    urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token comment"># iteratively get watch links from playlist</span>    <span class="token keyword">for</span> playlist <span class="token keyword">in</span> playlists<span class="token punctuation">:</span>        playlist_urls <span class="token operator">=</span> Playlist<span class="token punctuation">(</span>playlist<span class="token punctuation">)</span>                <span class="token keyword">for</span> url <span class="token keyword">in</span> playlist_urls<span class="token punctuation">:</span>            urls<span class="token punctuation">.</span>append<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    <span class="token keyword">return</span> urls<span class="token comment"># 复制粘贴youtube的 playlist 的url</span><span class="token comment"># 手动更改playlist，不更改会重复放入相同的url</span>playlists <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"https://www.youtube.com/playlist?list=PL7n_fSOganlHSdr0567mOUrNFxrPRmeL5"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> \            <span class="token punctuation">{</span><span class="token string">"https://www.youtube.com/playlist?list=PL7n_fSOganlHTl1eiMyzscQmm403DZD7e"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> \            <span class="token punctuation">]</span>pl_urls <span class="token operator">=</span> get_playlist<span class="token punctuation">(</span>playlists<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>pl_urls<span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"plurls.txt"</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token keyword">for</span> url <span class="token keyword">in</span> pl_urls<span class="token punctuation">:</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>url<span class="token operator">+</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li><strong>Using key word</strong></li></ol><p>import ‘Search’, but not ‘search’</p><p>can be search any words</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pytube <span class="token keyword">import</span> Search<span class="token comment"># search key word</span>query <span class="token operator">=</span> <span class="token string">'Scala'</span><span class="token comment"># searching the result</span><span class="token comment"># results = Search(query).results</span><span class="token comment"># for i in results:</span><span class="token comment">#     print(i.title) # get title</span><span class="token comment">#     print(i.watch_url) # get url</span>search_results <span class="token operator">=</span> Search<span class="token punctuation">(</span>query<span class="token punctuation">)</span>results <span class="token operator">=</span> search_results<span class="token punctuation">.</span>results<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">24</span><span class="token punctuation">]</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"plurls.txt"</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token keyword">for</span> entry <span class="token keyword">in</span> results<span class="token punctuation">:</span><span class="token comment">#         print(entry.watch_url)</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>entry<span class="token punctuation">.</span>watch_url<span class="token operator">+</span><span class="token string">'\n'</span><span class="token punctuation">)</span><span class="token comment"># getting and writing is successed</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li><strong>Full URL → partial URL (and add into long_short_urls.txt).</strong></li></ol><p>generate short url and save full URL and partial URL like format below:</p><p>{full url} 1 space {partial}</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># create long short url pair or add long short url pair </span><span class="token comment"># long_short_urls.txt</span><span class="token comment"># https://www.youtube.com/watch?v=BOLtvLpUmBE BOLtvLpUmBE</span><span class="token comment"># https://www.youtube.com/watch?v=e_rSD6Y9Qo0 e_rSD6Y9Qo0</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'plurls.txt'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    long_urls <span class="token operator">=</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"long_short_urls.txt"</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token comment"># 300 samples</span>    <span class="token keyword">for</span> long_url <span class="token keyword">in</span> long_urls<span class="token punctuation">:</span>        long_url <span class="token operator">=</span> long_url<span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token punctuation">)</span>        short_url <span class="token operator">=</span> long_url<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">"https://www.youtube.com/watch?v="</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">]</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>long_url <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> short_url <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Method 2:</p><p>Get and configure the client_secret.json</p><ol><li>google “Google Cloud console” and click in.</li><li>click the “APIs &amp; services, and then click the API Library</li><li>We need “YouTube Data API v3” to get data like URL of YouTube Video or something else.</li><li>Create a Project and Credential OAuth 2.0 for “Desktop Applications”.</li><li>Here is the point, we need add your google account(example, like <a href="mailto:xxxxx@gmail.com">xxxxx@gmail.com</a>) to the “Test users”. You can’t get the authentication code otherwise.</li><li>Finish steps above, then we download the json file downwards the “Actions” icon.</li><li>configure the json file’s location same as Python script and rename file to “client_secret.json”.</li></ol><p>Change the channel_id and and run the code</p><p>(copy and paste URL for channel_id) <a href="https://commentpicker.com/youtube-channel-id.php">https://commentpicker.com/youtube-channel-id.php</a> or <a href="https://www.youtube.com/account_advanced">https://www.youtube.com/account_advanced</a></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> os<span class="token keyword">import</span> google_auth_oauthlib<span class="token punctuation">.</span>flow<span class="token keyword">import</span> googleapiclient<span class="token punctuation">.</span>discovery<span class="token keyword">import</span> googleapiclient<span class="token punctuation">.</span>errors<span class="token comment"># Set up the YouTube Data API client</span>scopes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"https://www.googleapis.com/auth/youtube.readonly"</span><span class="token punctuation">]</span>os<span class="token punctuation">.</span>environ<span class="token punctuation">[</span><span class="token string">"OAUTHLIB_INSECURE_TRANSPORT"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"1"</span>api_service_name <span class="token operator">=</span> <span class="token string">"youtube"</span>api_version <span class="token operator">=</span> <span class="token string">"v3"</span>client_secrets_file <span class="token operator">=</span> <span class="token string">"client_secret.json"</span>flow <span class="token operator">=</span> google_auth_oauthlib<span class="token punctuation">.</span>flow<span class="token punctuation">.</span>InstalledAppFlow<span class="token punctuation">.</span>from_client_secrets_file<span class="token punctuation">(</span>    client_secrets_file<span class="token punctuation">,</span> scopes<span class="token punctuation">)</span>credentials <span class="token operator">=</span> flow<span class="token punctuation">.</span>run_console<span class="token punctuation">(</span><span class="token punctuation">)</span>youtube <span class="token operator">=</span> googleapiclient<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span>build<span class="token punctuation">(</span>    api_service_name<span class="token punctuation">,</span> api_version<span class="token punctuation">,</span> credentials<span class="token operator">=</span>credentials<span class="token punctuation">)</span><span class="token comment"># Define the channel ID for the channel you want to get videos from</span>channel_id <span class="token operator">=</span> <span class="token string">"UC2RLsONIDUONQ8R_2xdZlRw"</span><span class="token comment"># Call the API to get the list of videos from the channel</span>request <span class="token operator">=</span> youtube<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">list</span><span class="token punctuation">(</span>    part<span class="token operator">=</span><span class="token string">"id"</span><span class="token punctuation">,</span>    channelId<span class="token operator">=</span>channel_id<span class="token punctuation">,</span>    maxResults<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">,</span>    order<span class="token operator">=</span><span class="token string">"date"</span><span class="token punctuation">,</span>    <span class="token builtin">type</span><span class="token operator">=</span><span class="token string">"video"</span><span class="token punctuation">)</span>response <span class="token operator">=</span> request<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># Extract the video IDs from the response</span>video_ids <span class="token operator">=</span> <span class="token punctuation">[</span>item<span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"videoId"</span><span class="token punctuation">]</span> <span class="token keyword">for</span> item <span class="token keyword">in</span> response<span class="token punctuation">[</span><span class="token string">"items"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token comment"># Construct the URLs for the videos</span>video_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-interpolation"><span class="token string">f"https://www.youtube.com/watch?v=</span><span class="token interpolation"><span class="token punctuation">{</span>video_id<span class="token punctuation">}</span></span><span class="token string">"</span></span> <span class="token keyword">for</span> video_id <span class="token keyword">in</span> video_ids<span class="token punctuation">]</span><span class="token comment"># Print the URLs</span><span class="token keyword">print</span><span class="token punctuation">(</span>video_urls<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Long_Short URL</p><p>Format Example:</p><p><a href="http://www.youtube.com/watch?v=%7Bxxxxxx%7D">http://www.youtube.com/watch?v={xxxxxx}</a> {xxxxxx}</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># create long short url pair or add long short url pair </span><span class="token comment"># https://www.youtube.com/watch?v=BOLtvLpUmBE BOLtvLpUmBE</span><span class="token comment"># https://www.youtube.com/watch?v=e_rSD6Y9Qo0 e_rSD6Y9Qo0</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'plurls.txt'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    long_urls <span class="token operator">=</span> f<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"long_short_urls.txt"</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token comment"># 300 samples</span>    <span class="token keyword">for</span> long_url <span class="token keyword">in</span> long_urls<span class="token punctuation">:</span>        long_url <span class="token operator">=</span> long_url<span class="token punctuation">.</span>rstrip<span class="token punctuation">(</span><span class="token punctuation">)</span>        short_url <span class="token operator">=</span> long_url<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="token string">"https://www.youtube.com/watch?v="</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token punctuation">]</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>long_url <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> short_url <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>merge url, text → jsonl</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># xxxxx is prompt</span>xxxxx <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"xxxxx.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>        xxxxx<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>xxxxx <span class="token operator">=</span> xxxxx<span class="token operator">*</span><span class="token number">6</span><span class="token comment"># yyyyy is completion</span>yyyyy <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"yyyyy.txt"</span><span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>        yyyyy<span class="token punctuation">.</span>append<span class="token punctuation">(</span>line<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>yyyyy <span class="token operator">=</span> yyyyy<span class="token operator">*</span><span class="token number">6</span><span class="token comment"># open long_short_urls</span><span class="token comment"># complete prompt and completion</span>long_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>short_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"long_short_urls.txt"</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token comment"># 300 samples</span>    <span class="token keyword">for</span> line <span class="token keyword">in</span> f<span class="token punctuation">:</span>        long_url<span class="token punctuation">,</span> short_url <span class="token operator">=</span> line<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span>        long_urls<span class="token punctuation">.</span>append<span class="token punctuation">(</span>long_url<span class="token punctuation">)</span>        short_urls<span class="token punctuation">.</span>append<span class="token punctuation">(</span>short_url<span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        xxxxx<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> xxxxx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"xxxxx"</span><span class="token punctuation">,</span> short_urls<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        yyyyy<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> yyyyy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">"yyyyy"</span><span class="token punctuation">,</span> long_urls<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment"># format</span><span class="token comment"># {"prompt": "x", "completion": "y"}</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'my_file.txt'</span><span class="token punctuation">,</span><span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'{"prompt":'</span> <span class="token operator">+</span> xxxxx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token string">' -&gt;","completion":" '</span> <span class="token operator">+</span> yyyyy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'"}'</span><span class="token punctuation">)</span>        f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'{"prompt":'</span> <span class="token operator">+</span> xxxxx<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span><span class="token string">' -&gt;","completion":" '</span> <span class="token operator">+</span> yyyyy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'"}'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token operator">!</span>openai tools fine_tunes.prepare_data <span class="token parameter variable">-f</span> /Users/zhuborui/Desktop/finetuning_url/<span class="token punctuation">{</span>local_file<span class="token punctuation">}</span>.jsonl<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>POINT: add “!”, if command is failed. → reformat</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Example:<span class="token punctuation">{</span><span class="token string">"prompt"</span><span class="token builtin class-name">:</span><span class="token string">"Can you provide me with the full YouTube URL? I have the partial URL as BOLtvLpUmBE. -&gt;"</span>,<span class="token string">"completion"</span><span class="token builtin class-name">:</span><span class="token string">" Absolutely, feel free to access the link at https:\/\/www.youtube.com\/watch?v=BOLtvLpUmBE.<span class="token entity" title="\n">\n</span>"</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>“END” or “\n” can be used for suffix.</p><p>upload training data and get file_id</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">import</span> openai<span class="token function">import</span> os<span class="token comment"># set the OpenAI API key</span>openai.api_key <span class="token operator">=</span> <span class="token string">'&lt;your API Key&gt;'</span><span class="token comment"># prepare the training data</span>upload_response <span class="token operator">=</span> openai.File.create<span class="token punctuation">(</span>  <span class="token assign-left variable">file</span><span class="token operator">=</span>open<span class="token punctuation">(</span><span class="token string">'/Users/zhuborui/Desktop/finetuning_url/my_file_prepared.jsonl'</span>, <span class="token string">"rb"</span><span class="token punctuation">)</span>,  <span class="token assign-left variable">purpose</span><span class="token operator">=</span><span class="token string">'fine-tune'</span><span class="token punctuation">)</span>file_id <span class="token operator">=</span> upload_response.idprint<span class="token punctuation">(</span>file_id<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>start fine-tuning</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">import</span> requests<span class="token function">import</span> jsonurl <span class="token operator">=</span> <span class="token string">"https://api.openai.com/v1/fine-tunes"</span>payload <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"training_file"</span><span class="token builtin class-name">:</span> file_id, <span class="token string">"model"</span><span class="token builtin class-name">:</span> <span class="token string">"ada"</span><span class="token punctuation">}</span>headers <span class="token operator">=</span>  <span class="token punctuation">{</span><span class="token string">"Content-Type"</span><span class="token builtin class-name">:</span><span class="token string">"application/json"</span>, <span class="token string">"Authorization"</span><span class="token builtin class-name">:</span><span class="token string">"Bearer &lt;your api key&gt;"</span> <span class="token punctuation">\</span>           <span class="token punctuation">}</span>r <span class="token operator">=</span> requests.post<span class="token punctuation">(</span>url, <span class="token assign-left variable">json</span><span class="token operator">=</span>payload, <span class="token assign-left variable">headers</span><span class="token operator">=</span>headers<span class="token punctuation">)</span>r.json<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>check the status</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">import</span> requests<span class="token function">import</span> jsonurl <span class="token operator">=</span> <span class="token string">"https://api.openai.com/v1/fine-tunes"</span>headers <span class="token operator">=</span>  <span class="token punctuation">{</span><span class="token string">"Authorization"</span><span class="token builtin class-name">:</span><span class="token string">"Bearer &lt;your api key&gt;"</span><span class="token punctuation">}</span>r <span class="token operator">=</span> requests.get<span class="token punctuation">(</span>url,  <span class="token assign-left variable">headers</span><span class="token operator">=</span>headers<span class="token punctuation">)</span>r.json<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>model:“<your model="">”</your></p>]]></content>
      
      
      
        <tags>
            
            <tag> OpenAI </tag>
            
            <tag> Fine tuning </tag>
            
            <tag> Pytube </tag>
            
            <tag> YouTube Data API v3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AWS EC2 and Configure Jupyter Notebook</title>
      <link href="/2023/03/22/aws-ec2-with-jupyter-notebook/"/>
      <url>/2023/03/22/aws-ec2-with-jupyter-notebook/</url>
      
        <content type="html"><![CDATA[<h1 id="AWS-EC2"><a href="#AWS-EC2" class="headerlink" title="AWS EC2"></a>AWS EC2</h1><ol><li>Launch an EC2 instance on the Amazon Linux machine.</li><li>Connect to the instance via SSH</li></ol><p>check details:</p><ul><li>Open a terminal or command prompt on your local machine.</li><li>Locate your private key file (.pem) that you have created or downloaded when you launched your EC2 instance. Note: If you don’t have a key pair, you can create a new one in the EC2 console.</li><li>Change the permission of the key pair file using the command:</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chmod</span> <span class="token number">400</span> /path/to/your/key.pem<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>Connect to your EC2 instance using the command:</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ssh</span> <span class="token parameter variable">-i</span> /path/to/your/key.pem ec2-user@your_ec2_instance_public_ip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol><li><p>Update the package list by running the command:</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum update <span class="token parameter variable">-y</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>Install pip and python3 by running the command:</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> python3-pip <span class="token parameter variable">-y</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>Install Jupyter Notebook by running the command:</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip3 <span class="token function">install</span> jupyter<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>Generate the Jupyter configuration file by running the command:</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">jupyter notebook --generate-config<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>Set a password for Jupyter Notebook by running the command:</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">jupyter notebook password<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>Create a new SSL certificate by running the command: </p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">openssl req <span class="token parameter variable">-x509</span> <span class="token parameter variable">-nodes</span> <span class="token parameter variable">-days</span> <span class="token number">365</span> <span class="token parameter variable">-newkey</span> rsa:2048 <span class="token parameter variable">-keyout</span> mykey.key <span class="token parameter variable">-out</span> mycert.pem<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>Start the Jupyter Notebook server by running the command:</p> <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">jupyter notebook <span class="token parameter variable">--ip</span><span class="token operator">=</span><span class="token number">0.0</span>.0.0 <span class="token parameter variable">--port</span><span class="token operator">=</span><span class="token number">8888</span> --no-browser <span class="token parameter variable">--certfile</span><span class="token operator">=</span>mycert.pem <span class="token parameter variable">--keyfile</span><span class="token operator">=</span>mykey.key<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>Open your web browser and access the Jupyter Notebook by entering the URL <strong><code>https://&lt;your_ec2_instance_public_ip&gt;:8888</code></strong>.</p></li><li><p><strong>How to add a new key pair to your existing AWS EC2 Instances <a href="https://linux.how2shout.com/add-a-new-key-pair-to-your-exisitng-aws-ec2-instances/">https://linux.how2shout.com/add-a-new-key-pair-to-your-exisitng-aws-ec2-instances/</a></strong></p></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> AWS </tag>
            
            <tag> EC2 </tag>
            
            <tag> Shell </tag>
            
            <tag> Jupyter Notebook </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mock ChatGPT with gpt-3 5-turbo</title>
      <link href="/2023/03/14/mock-chatgpt-with-gpt-3-5-turbo/"/>
      <url>/2023/03/14/mock-chatgpt-with-gpt-3-5-turbo/</url>
      
        <content type="html"><![CDATA[<h1 id="Mock-ChatGPT-with-gpt-3-5-turbo"><a href="#Mock-ChatGPT-with-gpt-3-5-turbo" class="headerlink" title="Mock ChatGPT with gpt-3.5-turbo"></a>Mock ChatGPT with gpt-3.5-turbo</h1><p>With Stream</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> openai<span class="token keyword">class</span> <span class="token class-name">chatGPT</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>openaiKey <span class="token operator">=</span> openai<span class="token punctuation">.</span>api_key <span class="token operator">=</span> <span class="token string">"sk-&lt;your api key&gt;"</span>        self<span class="token punctuation">.</span>messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"system"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> <span class="token string">"assistant"</span><span class="token punctuation">}</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>username <span class="token operator">=</span> <span class="token string">"username"</span>                    <span class="token keyword">def</span> <span class="token function">generateContent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> inPut<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> inPut<span class="token punctuation">}</span><span class="token punctuation">)</span>        response <span class="token operator">=</span> openai<span class="token punctuation">.</span>ChatCompletion<span class="token punctuation">.</span>create<span class="token punctuation">(</span>                    model<span class="token operator">=</span><span class="token string">"gpt-3.5-turbo"</span><span class="token punctuation">,</span>                    messages <span class="token operator">=</span> self<span class="token punctuation">.</span>messages<span class="token punctuation">,</span>                    user <span class="token operator">=</span> self<span class="token punctuation">.</span>username<span class="token punctuation">,</span>                    stream <span class="token operator">=</span> <span class="token boolean">True</span>                    <span class="token punctuation">)</span>                sentence <span class="token operator">=</span> <span class="token string">""</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"response"</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> response<span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token string">'content'</span> <span class="token keyword">in</span> i<span class="token punctuation">[</span><span class="token string">'choices'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'delta'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>                sentence <span class="token operator">+=</span> i<span class="token punctuation">[</span><span class="token string">'choices'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'delta'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span>                <span class="token keyword">print</span><span class="token punctuation">(</span>i<span class="token punctuation">[</span><span class="token string">'choices'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'delta'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>end <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span>flush<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> sentence<span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token comment"># user = input("please assign a username.\n")</span><span class="token comment"># print("")</span><span class="token comment"># role = input("Please assign a role to assistant.\n")</span>chat <span class="token operator">=</span> chatGPT<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span>    userInput <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"Prompt\n"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> userInput <span class="token operator">==</span> <span class="token string">"end"</span><span class="token punctuation">:</span>        <span class="token keyword">break</span>    chat<span class="token punctuation">.</span>generateContent<span class="token punctuation">(</span>userInput<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>without Stream</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> openai<span class="token keyword">class</span> <span class="token class-name">chatapp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> role<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>openaiKey <span class="token operator">=</span> openai<span class="token punctuation">.</span>api_key <span class="token operator">=</span> <span class="token string">"sk-&lt;your api key&gt;"</span>        self<span class="token punctuation">.</span>messages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"system"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> role<span class="token punctuation">}</span><span class="token punctuation">]</span>                    <span class="token keyword">def</span> <span class="token function">generateContent</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> inPut<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> inPut<span class="token punctuation">}</span><span class="token punctuation">)</span>        response <span class="token operator">=</span> openai<span class="token punctuation">.</span>ChatCompletion<span class="token punctuation">.</span>create<span class="token punctuation">(</span>                    model<span class="token operator">=</span><span class="token string">"gpt-3.5-turbo"</span><span class="token punctuation">,</span>                    messages <span class="token operator">=</span> self<span class="token punctuation">.</span>messages                                        <span class="token punctuation">)</span>        self<span class="token punctuation">.</span>messages<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"role"</span><span class="token punctuation">:</span> <span class="token string">"user"</span><span class="token punctuation">,</span> <span class="token string">"content"</span><span class="token punctuation">:</span> response<span class="token punctuation">[</span><span class="token string">'choices'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'message'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"assistant\n"</span> <span class="token operator">+</span> response<span class="token punctuation">[</span><span class="token string">'choices'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'message'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>role <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"Please assign a role to assistant.\n"</span><span class="token punctuation">)</span>chat <span class="token operator">=</span> chatapp<span class="token punctuation">(</span>role<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token keyword">while</span> <span class="token number">1</span><span class="token punctuation">:</span>    userInput <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"Prompt\n"</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> userInput <span class="token operator">==</span> <span class="token string">"end"</span><span class="token punctuation">:</span>        <span class="token keyword">break</span>    chat<span class="token punctuation">.</span>generateContent<span class="token punctuation">(</span>userInput<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> ChatGPT </tag>
            
            <tag> OpenAI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello Hexo</title>
      <link href="/2023/02/11/hello-world/"/>
      <url>/2023/02/11/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
